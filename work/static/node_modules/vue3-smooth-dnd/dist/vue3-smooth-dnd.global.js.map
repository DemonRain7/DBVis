{"version":3,"file":"vue3-smooth-dnd.global.js","sources":["../src/utils/utils.js","../src/components/Container.js","../src/components/Draggable.js"],"sourcesContent":["/**\n * Checks if tag or tag.value (ref) is string function or object\n * @param {*} tag \n * @returns boolean\n */\nexport function validateTagProp (tag) {\n  if (tag) {\n    if (typeof tag === 'string') return true;\n    if (typeof tag === 'object') {\n      if (\n        typeof tag.value === 'string' ||\n        typeof tag.value === 'function' ||\n        typeof tag.value === 'object'\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n  return true;\n}\n\nexport function getTagProps (ctx, tagClasses) {\n  const tag = ctx.$props.tag;\n  if (tag) {\n    if (typeof tag === 'string') {\n      const result = { value: tag };\n      if (tagClasses) {\n        result.props = { class: tagClasses };\n      }\n      return result;\n    } else if (typeof tag === 'object') {\n      const result = { value: tag.value || 'div', props: tag.props || {} };\n      if (tagClasses) {\n        if (result.props.class) {\n          if (Array.isArray(result.props.class)) {\n            result.props.class.push(tagClasses);\n          } else {\n            result.props.class = [tagClasses, result.props.class];\n          }\n        } else {\n          result.props.class = tagClasses;\n        }\n      }\n      return result;\n    }\n  }\n  return { value: 'div' };\n}","import { defineComponent, h } from 'vue';\nimport { smoothDnD, dropHandlers } from 'smooth-dnd';\nimport { getTagProps, validateTagProp } from '../utils/utils';\n\nsmoothDnD.dropHandler = dropHandlers.reactDropHandler().handler;\nsmoothDnD.wrapChild = false;\n\nconst eventEmitterMap = {\n  'drag-start': 'onDragStart',\n  'drag-end': 'onDragEnd',\n  'drop': 'onDrop',\n  'drag-enter': 'onDragEnter',\n  'drag-leave': 'onDragLeave',\n  'drop-ready': 'onDropReady'\n};\n\nexport default defineComponent({\n  name: 'Container',\n  mounted () {\n    // emit events\n    const options = Object.assign({}, this.$props);\n    for (const key in eventEmitterMap) {\n      options[eventEmitterMap[key]] = (props) => {\n        this.$emit(key, props);\n      }\n    }\n    this.containerElement = this.$refs.container || this.$el;\n    this.container = smoothDnD(this.containerElement, options);\n  },\n  unmounted () {\n    if (this.container) {\n      this.container.dispose();\n    }\n  },\n  emits: ['drop', 'drag-start', 'drag-end', 'drag-enter', 'drag-leave', 'drop-ready' ],\n  props: {\n    orientation: { type: String, default: 'vertical' },\n    removeOnDropOut: { type: Boolean, default: false },\n    autoScrollEnabled: { type: Boolean, default: true },\n    animationDuration: { type: Number, default: 250 },\n    behaviour: String,\n    groupName: String,\n    dragHandleSelector: String,\n    nonDragAreaSelector: String,\n    lockAxis: String,\n    dragClass: String,\n    dropClass: String,\n    dragBeginDelay: Number,\n    getChildPayload: Function,\n    shouldAnimateDrop: Function,\n    shouldAcceptDrop: Function,\n    getGhostParent: Function,\n    dropPlaceholder: [Object, Boolean],\n    tag: {\n      validator: validateTagProp,\n      default: 'div',\n    }\n  },\n  render(){\n    const tagProps = getTagProps(this);\n    return h(\n      tagProps.value,\n      Object.assign({}, { ref: 'container' }, tagProps.props),\n      this.$slots.default(),\n    );\n  }\n});\n","import { defineComponent, h } from 'vue';\nimport { constants } from 'smooth-dnd';\nimport { getTagProps, validateTagProp } from '../utils/utils';\n\nexport default defineComponent({\n  name: 'Draggable',\n  props: {\n    tag: {\n      validator: validateTagProp,\n      default: 'div'\n    },\n  },\n  render: function () {\n    //wrap child\n    const tagProps = getTagProps(this, constants.wrapperClass);\n    return h(\n      tagProps.value,\n      Object.assign({}, tagProps.props),\n      this.$slots.default()\n    );\n  }\n});\n"],"names":["smoothDnD","dropHandlers","defineComponent","h","constants"],"mappings":"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"}