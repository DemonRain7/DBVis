{"version":3,"file":"vue3-smooth-dnd.esm.js","sources":["../src/utils/utils.js","../src/components/Container.js","../src/components/Draggable.js"],"sourcesContent":["/**\n * Checks if tag or tag.value (ref) is string function or object\n * @param {*} tag \n * @returns boolean\n */\nexport function validateTagProp (tag) {\n  if (tag) {\n    if (typeof tag === 'string') return true;\n    if (typeof tag === 'object') {\n      if (\n        typeof tag.value === 'string' ||\n        typeof tag.value === 'function' ||\n        typeof tag.value === 'object'\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n  return true;\n}\n\nexport function getTagProps (ctx, tagClasses) {\n  const tag = ctx.$props.tag;\n  if (tag) {\n    if (typeof tag === 'string') {\n      const result = { value: tag };\n      if (tagClasses) {\n        result.props = { class: tagClasses };\n      }\n      return result;\n    } else if (typeof tag === 'object') {\n      const result = { value: tag.value || 'div', props: tag.props || {} };\n      if (tagClasses) {\n        if (result.props.class) {\n          if (Array.isArray(result.props.class)) {\n            result.props.class.push(tagClasses);\n          } else {\n            result.props.class = [tagClasses, result.props.class];\n          }\n        } else {\n          result.props.class = tagClasses;\n        }\n      }\n      return result;\n    }\n  }\n  return { value: 'div' };\n}","import { defineComponent, h } from 'vue';\nimport { smoothDnD, dropHandlers } from 'smooth-dnd';\nimport { getTagProps, validateTagProp } from '../utils/utils';\n\nsmoothDnD.dropHandler = dropHandlers.reactDropHandler().handler;\nsmoothDnD.wrapChild = false;\n\nconst eventEmitterMap = {\n  'drag-start': 'onDragStart',\n  'drag-end': 'onDragEnd',\n  'drop': 'onDrop',\n  'drag-enter': 'onDragEnter',\n  'drag-leave': 'onDragLeave',\n  'drop-ready': 'onDropReady'\n};\n\nexport default defineComponent({\n  name: 'Container',\n  mounted () {\n    // emit events\n    const options = Object.assign({}, this.$props);\n    for (const key in eventEmitterMap) {\n      options[eventEmitterMap[key]] = (props) => {\n        this.$emit(key, props);\n      }\n    }\n    this.containerElement = this.$refs.container || this.$el;\n    this.container = smoothDnD(this.containerElement, options);\n  },\n  unmounted () {\n    if (this.container) {\n      this.container.dispose();\n    }\n  },\n  emits: ['drop', 'drag-start', 'drag-end', 'drag-enter', 'drag-leave', 'drop-ready' ],\n  props: {\n    orientation: { type: String, default: 'vertical' },\n    removeOnDropOut: { type: Boolean, default: false },\n    autoScrollEnabled: { type: Boolean, default: true },\n    animationDuration: { type: Number, default: 250 },\n    behaviour: String,\n    groupName: String,\n    dragHandleSelector: String,\n    nonDragAreaSelector: String,\n    lockAxis: String,\n    dragClass: String,\n    dropClass: String,\n    dragBeginDelay: Number,\n    getChildPayload: Function,\n    shouldAnimateDrop: Function,\n    shouldAcceptDrop: Function,\n    getGhostParent: Function,\n    dropPlaceholder: [Object, Boolean],\n    tag: {\n      validator: validateTagProp,\n      default: 'div',\n    }\n  },\n  render(){\n    const tagProps = getTagProps(this);\n    return h(\n      tagProps.value,\n      Object.assign({}, { ref: 'container' }, tagProps.props),\n      this.$slots.default(),\n    );\n  }\n});\n","import { defineComponent, h } from 'vue';\nimport { constants } from 'smooth-dnd';\nimport { getTagProps, validateTagProp } from '../utils/utils';\n\nexport default defineComponent({\n  name: 'Draggable',\n  props: {\n    tag: {\n      validator: validateTagProp,\n      default: 'div'\n    },\n  },\n  render: function () {\n    //wrap child\n    const tagProps = getTagProps(this, constants.wrapperClass);\n    return h(\n      tagProps.value,\n      Object.assign({}, tagProps.props),\n      this.$slots.default()\n    );\n  }\n});\n"],"names":[],"mappings":"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"}